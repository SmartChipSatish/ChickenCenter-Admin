import{f as g,r as t,j as e,b as u}from"./index-B_HkDvX-.js";import{F as i,i as P,e as y}from"./index-CcnOB6WK.js";import{T,P as A,A as B}from"./AppDeleteModal-CCWxsZ68.js";import{C as x}from"./Card-BH93Bmqz.js";import{f as F}from"./faPlus-DNNFQylq.js";import{b as v}from"./branchesEndPoint-CCCld7yW.js";import{A as C}from"./loader-DtwxB0VL.js";import{p as I}from"./appConstants-CjdVTnq7.js";import{l as b}from"./appFunctions-D5LvzQzQ.js";import{F as E}from"./appInterfaces-C6HlsS5g.js";import"./hasClass-BxXnqlHg.js";const $=()=>{var h;const[j,{data:a,isLoading:r,isError:c}]=v(),n=g(),d=t.useRef(),[o,N]=t.useState(1),m=s=>{n(`update/${s}`)},f=(s,l)=>{console.log("deleteModalData.current",l)};return t.useEffect(()=>{j({params:{page:o,perPage:I,userType:E.FRANCHISE}})},[o]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex justify-content-between pageTitleSpace",children:[e.jsx("p",{className:"pageTile",children:"Franchises"}),e.jsxs(u,{variant:"outline-primary",onClick:()=>{n("create")},children:[e.jsx(i,{icon:F.faPlus})," Add"]})]}),e.jsx("div",{className:"BranchesPage",children:e.jsx(x,{className:"h-100",children:e.jsxs(x.Body,{className:`${!b(r,c,a==null?void 0:a.franchises)&&"appCard"}`,children:[e.jsxs(T,{hover:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("p",{className:"tableTitle",children:"#"})}),e.jsx("th",{children:e.jsx("p",{className:"tableTitle",children:"Name"})}),e.jsx("th",{children:e.jsx("p",{className:"tableTitle",children:"Orders"})}),e.jsx("th",{children:e.jsx("p",{className:"tableTitle",children:"Address"})}),e.jsx("th",{children:e.jsx("p",{className:"tableTitle",children:"Phone"})}),e.jsx("th",{children:e.jsx("p",{className:"tableTitle",children:"Actions"})})]})}),e.jsx("tbody",{children:a&&(a==null?void 0:a.franchises.map((s,l)=>e.jsxs("tr",{className:"appRow",children:[e.jsx("td",{className:"tableItem",children:l+1}),e.jsx("td",{className:"tableItem text-capitalize",onClick:()=>{m(s._id)},children:e.jsx("p",{className:"BranchesPage-id primaryValue",children:s.name})}),e.jsx("td",{className:"tableItem",children:e.jsx("p",{className:"BranchesPage-id",children:(s==null?void 0:s.currentOrders)||0})}),e.jsx("td",{className:"tableItem",children:e.jsxs("p",{className:"BranchesPage-id",children:[s.address.name||"---"," ,",s.address.city]})}),e.jsx("td",{className:"tableItem",children:e.jsx("p",{className:"BranchesPage-id",children:s.primaryNumber})}),e.jsxs("td",{className:"align-middle",children:[e.jsx(i,{icon:P,className:"BranchesPage-actions BranchesPage-eye",onClick:()=>{m(s._id)}}),e.jsx(i,{icon:y,className:"BranchesPage-actions deleteIcon",onClick:()=>{var p;(p=d.current)==null||p.open(s)}})]})]},s._id)))})]}),c&&e.jsx("div",{className:"emptyTable",children:e.jsx("p",{children:"Something went wrong!"})}),r&&e.jsx("div",{className:"emptyTable",children:e.jsx(C,{})}),((h=a==null?void 0:a.franchises)==null?void 0:h.length)===0&&e.jsx("div",{className:"emptyTable",children:"No Data Found"}),(a==null?void 0:a.totalFranchises)>10&&e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(A,{count:a.totalPages,shape:"rounded",onChange:(s,l)=>{N(l)}})})]})})}),e.jsx(B,{ref:d,title:"Do you want to delete this Franchise?",accept:f})]})};export{$ as default};
