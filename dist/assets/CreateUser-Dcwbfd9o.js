import{p as y,f as g,i as C,e as f,r as i,j as e,F as s,C as a,b as m,k as d,A as h,s as S,q as w}from"./index-CIyJEm74.js";import{C as x}from"./Card-CTJQCgP1.js";import{b as q}from"./branchesEndPoint-D7oLM-pp.js";import{F as u}from"./appInterfaces-PvTAME0U.js";import{R as o}from"./Row-Bx2Jtauf.js";const P=()=>{const{register:t,handleSubmit:p}=y({}),[j,{isLoading:L}]=q(),l=g(r=>{var n;return(n=r==null?void 0:r.userInfoSlice)==null?void 0:n.userInfo});C();const b=f();i.useRef(null),i.useState("https://as2.ftcdn.net/v2/jpg/02/41/38/73/1000_F_241387314_Sr3d8fVbXw0tWHQvZlKvbwY5YnEDC91V.jpg");const c=()=>{b("/users")},N=async r=>{try{let n={name:r.name,userName:r.userName,password:r.password,primaryNumber:r.primaryNumber,createdBy:d(h.userId),updatedBy:d(h.userId),address:{name:r.name,houseNo:r.houseNo,streetName:r.streetName,city:r.city,pincode:r.pincode,landmark:r.landmark,state:r.state},userType:u.DELIVERYAGENTS};(l==null?void 0:l.userType)===u.FRANCHISE&&(n=await{...n,franchiseId:l==null?void 0:l.id});const F=await j(n);S("User Create Successfully"),c()}catch(n){console.log("e",n),w("Something went wrong1")}};return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"pageTile pageTitleSpace",children:"Create User"}),e.jsx(x,{className:"createUser",children:e.jsx(x.Body,{className:"userFrom",children:e.jsxs(s,{onSubmit:p(N),children:[e.jsxs(o,{children:[e.jsxs(a,{children:[e.jsx(s.Label,{className:"fromLabel",children:"Name"}),e.jsx(s.Control,{type:"text",placeholder:"Malasa",...t("name",{required:!0})})]}),e.jsxs(a,{children:[e.jsx(s.Label,{className:"fromLabel",children:"Phone"}),e.jsx(s.Control,{type:"number",placeholder:"Phone",minLength:10,maxLength:10,...t("primaryNumber",{required:!0})})]})]}),e.jsxs(o,{children:[e.jsxs(a,{children:[e.jsx(s.Label,{className:"fromLabel",children:"User Name"}),e.jsx(s.Control,{type:"text",placeholder:"User name",minLength:5,maxLength:20,...t("userName",{required:!0})})]}),e.jsxs(a,{children:[e.jsx(s.Label,{className:"fromLabel",children:"Password"}),e.jsx(s.Control,{type:"password",minLength:5,maxLength:10,...t("password",{required:!0})})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"address",children:"Address"}),e.jsxs(o,{children:[e.jsxs(a,{children:[e.jsx(s.Label,{className:"fromLabel",children:"House No"}),e.jsx(s.Control,{type:"text",placeholder:"House No",maxLength:20,...t("houseNo",{required:!0})})]}),e.jsxs(a,{children:[e.jsx(s.Label,{className:"fromLabel",children:"Street Name"}),e.jsx(s.Control,{type:"text",placeholder:"Street",maxLength:100,...t("streetName",{required:!0})})]})]}),e.jsxs(o,{children:[e.jsxs(a,{children:[e.jsx(s.Label,{className:"fromLabel",children:"City"}),e.jsx(s.Control,{type:"text",placeholder:"City",maxLength:20,...t("city",{required:!0})})]}),e.jsxs(a,{children:[e.jsx(s.Label,{className:"fromLabel",children:"Landmark"}),e.jsx(s.Control,{type:"text",placeholder:"Landmark",maxLength:50,...t("landmark",{required:!0})})]})]}),e.jsxs(o,{children:[e.jsxs(a,{children:[e.jsx(s.Label,{className:"fromLabel",children:"Pincode"}),e.jsx(s.Control,{type:"number",placeholder:"Pincode",minLength:6,maxLength:6,...t("pincode",{required:!0})})]}),e.jsx(a,{children:e.jsxs(a,{children:[e.jsx(s.Label,{className:"fromLabel",children:"State"}),e.jsx(s.Control,{type:"text",placeholder:"State",minLength:2,maxLength:50,...t("state",{required:!0})})]})})]})]}),e.jsxs("div",{className:"d-flex justify-content-end submitbtns",children:[e.jsx(m,{variant:"outline-secondary",className:"elementSpace",onClick:()=>{c()},children:"Cancel"}),e.jsx(m,{variant:"outline-primary",type:"submit",disabled:L,children:"Create"})]})]})})})]})};export{P as default};
